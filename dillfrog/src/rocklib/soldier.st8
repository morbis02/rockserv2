if($self->{'GAME'}) { $cap .= "{17}Now is NOT the time!\n"; $sline +=2; } elsif($self->{'NEWBIE'}) { $cap .= "{17}Yer juz too young, lil $main::races[$self->{'RACE'}]!\n"; $sline +=2; } elsif($self->{'SOLDIER'}) { $cap .= "{17}You got them brain problems, soldier? YOU ALREADY JOINED!!\n"; $sline +=2; } elsif($self->{'LEV'}<45) { $cap .= "{17}Sorry! You must be at least level 45 to join the military!\n"; $sline+=2;} else { $cap .= "{1}WARNING!\n{17}   Once a Soldier, you are allowed to PvP (and get PvP'd by) other Soldiers, regardless of level.\n   {1}ONCE A SOLDIER, YOU WILL ALWAYS BE A SOLDIER (UNTIL THE RESET).\n   {17}Choose wisely. If you still wish to be a soldier, type your login password. If you are a coward, type anything BUT your password.\n   {6}Enter your password (or type 'x'): \n";  $sline++; }
if(!$cmd || lc($cmd) eq 'x') { $self->log_append("{3}Okay, so maybe you're not ready for this.\n"); $sline++; } else { my ($success, $errmsg) = $rockobj::auth_man->authUserID($self->{'IP'}, lc $self->{'NAME'}, $cmd);   if ($success) { if($self->{'ADMIN'}) { $self->log_append("{17}Silly admin! Soldiers are for kids!\n"); } else { $self->{'SOLDIER'}=time; $self->{'PVPS'}=1000; $cap .= "{12}Talk about courage! Welcome to the $main::races[$self->{'RACE'}] military, Soldier!\n"; &main::rock_shout(undef, "{2}$self->{'NAME'} has enlisted in the {3}$main::races[$self->{'RACE'}] {2}military!\n"); &main::log_event("Become Soldier", "$self->{'NAME'} became a soldier for the $main::races[$self->{'RACE'}] military.", $self->{'UIN'}, $self->{'RACE'}); } $sline++; } else {  $cap .= "{12}Error: $errmsg\n"; $sline++; } }
