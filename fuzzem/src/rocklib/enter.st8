$cap .= "{16}What is your UserID? (eg: Swordly)\n";$sline++;
if (-f "saved/".lc($cmd).".r2") { $temp->{'UID'}=lc($cmd); $sline++; $continue=1; } elsif (lc($cmd) eq 'x') { $sname='LOGIN'; $sline=0; $continue=1; } elsif ($rockobj::auth_man->getUIN($cmd)) { $self->log_append("{2}Welcome, you must be new! Let's create a new character!\n"); $sname='NEW'; $sline=2; $continue=1; } else {  $cap .= "{12}That account does not exist. Either you typed it wrong, or you forgot to create one.\n"; $sline--; $continue=1; } 
$self->log_append("{16}What's your character's password??\n"); $self->log_append(chr(255).chr(251).chr(1).chr(255).chr(254).chr(1)); $sline++;
$self->log_append("\n".chr(255).chr(252).chr(1).chr(255).chr(253).chr(1)); if (lc($cmd) eq 'x') { $sline=0;  $continue=1; $self->log_append("{3}Password entry cancelled.\n");  } else {  my $succ = $self->player_login($temp->{'UID'}, $cmd, $sockno); $self->log_append("\n".chr(255).chr(252).chr(1).chr(255).chr(253).chr(1).$succ);  if($succ==1) {  $sline++; $continue=1; } else { $sname='LOGIN', $sline=1; } } return(1);
