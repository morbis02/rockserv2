if(!$main::allow_new_signups) { $cap .= "{16}Sorry, but we're not currently taking any new signups.\n"; $sname='LOGIN', $sline=1; } else { $cap .= "{16}Application: {6}New Character.\n\n{2}So you want a new character? No problem. {12}I assume you already set up a fuzzem.com userid. {2}If not, you'll want to do that first at:\n    http://www.fuzzem.com\nIf you've already signed up for a fuzzem.com account (userid), enter it below.\n\n";$sline++;$continue=1; }
$cap .= "{1}Enter your fuzzem.com userid {7}(eg: mrbob123){1}:"; $sline++;
my $uin = $rockobj::auth_man->getUIN($cmd); if (!$uin) { $self->log_error("\"$cmd\" is not a valid UserID."); $sline--; if(lc($cmd) eq 'x') { $sname='LOGIN', $sline=1; } } elsif (-e "saved/".$rockobj::auth_man->getUserID($uin).".r2") { $cap .= "{1}You already have an account, dude.\n"; $sline--; } else { $self->{'UIN'}=$uin; $sline++;} $continue=1;
$cap .= "{1}What is your fuzzem.com account password??"; $sline++;
if (!$cmd) { $sline--; } elsif (lc($cmd) eq 'x') { $self->log_append("{2}New character generation cancelled.\n"); $sname='LOGIN'; $sline=0; } else {  $self->log_append("\n".chr(255).chr(252).chr(1).chr(255).chr(253).chr(1)); my ($success, $errmsg) = $rockobj::auth_man->authUIN($self->{'IP'}, $self->{'UIN'}, $cmd); if (!$success) { $cap.="{1}$errmsg\n"; $sline--; } else {  $self->gender_set($rockobj::auth_man->getGender($self->{'UIN'})); $self->{'DILLFROG_AUTHED'}=1; $self->{'PW'} = $cmd; $cap="{12}Okay. Let's make that character!\n"; $sline++;} }  $continue=1; 
$cap .= "{2}You need a race. You will be working with players of your own race\nthroughout the course of your gameplay. Each race starts out differently and has\nunique abilities. You can choose from:\n\n     {6}1 {16}Vrean {2} - spiderlike\n     {6}2 {16}Spectrite {2} - shadelike\n     {6}3 {16}Dryne {2} - dragonlike\n     {6}4 {16}Taer {2} - ratlike\n     {6}5 {16}Shi-Kul {2} - human/angelic\n     {6}6 {16}Kelion {2} - lemurlike\n\n{2}More information can be found at {12}http://www.fuzzem.com\n\n{1}Type the number of the species you would like to be. For example, if you would like to be a Taer, type {6}4{1}.\n"; $sline++;
$cmd = int $cmd; if ( ($cmd<1) || ($cmd>6) ) { $self->log_error("$cmd is not an option."); $sline--; } else { $self->{'RACE'}=int $cmd; $self->race_statsto(int $cmd); $self->log_append("{12}Alright, you will be born a $main::races[$cmd] upon starting the game.\n"); $sline++;} $continue=1;
$self->log_append("{2}Now that you've applied, let's phase you into this brave new world...\n"); delete $self->{'ST8'}; $self->{'NAME'}=ucfirst $rockobj::auth_man->getUserID($self->{'UIN'}); &main::handle_newplayer($self); $self->{'NAME'} = "Untitled Player"; if($sockno) {  my $succ = $self->player_login($rockobj::auth_man->getUserID($self->{'UIN'}), $self->{'PW'}, $sockno); $self->log_append("\n$succ");  if($succ==1) {  $sline++; $continue=1; } else { $sname='LOGIN', $sline=1; } } else { $sname='LOGIN', $sline=1; }
